<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration :: Cocard</title>
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Cocard</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div class="abstand">
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
          <div class="navbar-item dark">Cocard</div>
           <a class="navbar-item" href="../../devnotes/index.html">DevNotes</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="cocard" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Cocard</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="podman/quickstart.html">Quickstart</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../first-steps.html">Erste Schritte</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="podman/podman-systemd.html">Systemd und Quadlets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="podman/reverse-proxy.html">Reverse Proxy</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Cocard</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Cocard</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Cocard</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../devnotes/index.html">DevNotes</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../devnotes/index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Cocard</a></li>
    <li><a href="index.html">Installation</a></li>
    <li><a href="configuration.html">Configuration</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Configuration</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><mark>FIXME</mark> <mark>NOT MIGRATED YET</mark></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cocard_yml"><a class="anchor" href="#_cocard_yml"></a><code>cocard.yml</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main configuration file is <code>cocard.yml</code>.</p>
</div>
<div id="cocard.yml" class="listingblock">
<div class="title">cocard.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">#
# config/cocard.yml
#
# -- job scheduling
cron_fetch_statistics: '*/5 * * * *' <i class="conum" data-value="1"></i><b>(1)</b>
cron_fetch_channels: '0 1 * * 6' <i class="conum" data-value="2"></i><b>(2)</b>
cron_fetch_configuration: '15 1 * * 6' <i class="conum" data-value="3"></i><b>(3)</b>
cron_purge_timescale:  '30 1 * * 6' <i class="conum" data-value="4"></i><b>(4)</b>

# -- SSL
use_ssl: false <i class="conum" data-value="5"></i><b>(5)</b>

# -- action cable request origins
action_cable_allowed_request_origins: <i class="conum" data-value="6"></i><b>(6)</b>
  - http://cocard.example.com
  - https://cocard.example.com</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>How often should Cocard retrieve channel statistics from your Mirth Connect servers?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Update channel configuration once per week</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Backup mirth configuration (XML only) once per week</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Purge old timescaledb data once per week</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Should be false if you are running Cocard behind a reverse proxy.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>http:// and https:// site Urls accessing Cocard from outside</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_ldap_settings"><a class="anchor" href="#_ldap_settings"></a>LDAP settings</h3>
<div class="paragraph">
<p>You can use LDAP to create new users and for authentication.
In most cases you will use both or neither. LDAP is completely
optional, so you can choose not to use it. <code>ldap_options</code>
goes directly to Net::LDAP, see the following page for configuration:
<a href="https://www.rubydoc.info/gems/ruby-net-ldap/Net/LDAP" class="bare">https://www.rubydoc.info/gems/ruby-net-ldap/Net/LDAP</a></p>
</div>
<div class="paragraph">
<p>The LDAP attribute <code>userPrincipalName</code> is mapped to <code>username</code>. LDAP authentication works best with Active Directory. If you are using another directory service, you are on your own.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">enable_ldap_authentication: true
ldap_options:
  hosts:
    - [ dc1.example.com, 3269 ]
    - [ dc2.example.com, 3269 ]
  base: dc=example,dc=de
  encryption: :simple_tls
  auth:
    method: :simple
    username: readonlyuser@example.com
    password: averystrongsecret</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <span>Wolfgang Barth (C) 2024</span>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/medium-zoom.min.js"></script>
<script>mediumZoom('img:not(.copy-icon');</script>
  </body>
</html>
